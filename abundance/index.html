<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Abundant Apples</title>
    <link rel="stylesheet" href="flavorTown.css">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <script src="https://d3js.org/d3.v7.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">


</head>

<body>    

    <div id="mapContainer">
        <div id="greyMask"></div>
        
        <!-- Popup how to on load -->
        <div id="howTo">
            <button id="exitButton" class="w3-button" onclick="closeHelp()">Close</button>
            <p class="howToTitle">it's apple time!</p>
            <div id="text1">
                <p class="howToText">hover over an orchard to display it's information in the panel!</p>
                <br>
                <p class="howToText">click an orchard hold the panel in place with that orchard's info.</p>
            </div>
            <div id="text2">
                <p class="howToText">click the downward arrows to open the orchard directory.</p>
                <br><br>
                <p class="howToText">click the question mark to reopen this help window.</p>
            </div>
            <div id="img1">
                <img class="tutorialImage" src="img/img1.png" title="Hover or click point to highlight it!">
            </div>
            <div id="img2">
                <img class="tutorialImage" src="img/img2.png" title="Orchard list!">
            </div>
            <div id="img3">
                <img class="tutorialImage" src="img/img3.png" title="Abundant directory">
            </div>
            <!-- <p class="howToText">Each circle point on this map is the location of an apple orchard. Hover over the points to display the orchard's information in the top right info panel. </p>
            <p class="howToText">Clicking on a point will hold it's information in the panel. To clear the panel, hit the exit button or click on the map.</p> -->
        </div>

        <div id="breedListContainer">
            <div id="listContent" style="display: none;">
                <div id="breedList"> </div>
                <button id="closeList" class="w3-button" onclick="closeHelp()">Close</button>
            </div>
        </div>

        <div id="breedSelectContainer" class="flexContainer">
            <div id="breedSelector" class="largePopup" style="display: none;">
                <div id="closeContainer">
                    <button id="closeBreed" class="w3-button closeButton" onclick="closeHelp()">Close</button>
                    <div id="counterContainer">
                        <div id="count">0</div>
                        <div id="countText">breed(s) selected!</div>
                    </div>
                </div>
                <div id="commandsContainer">
                    <button id="clearBreed" class="w3-button" onclick="clearBreeds()">Clear</button>
                    <button id="applyBreed" class="w3-button" onclick="applyBreeds()">Apply</button>
                </div>
                <div id="breedContent">
                    <!-- filling in new divs here -->
                </div>
            </div>
        </div>

        <div id="exportDataContainer" class="flexContainer">
            <div id="dataViewer" class="largePopup" style="display: none;">
                <div id="closeContainer">
                    <button id="closeData" class="w3-button closeButton" onclick="closeHelp()">Close</button>
                </div>
                <!-- <div id="commandsContainer">
                    <button id="clearBreed" class="w3-button" onclick="clearBreeds()">Clear</button>
                    <button id="applyBreed" class="w3-button" onclick="applyBreeds()">Apply</button>
                </div> -->
                <div id="dataContent">
                    <!-- filling in new divs here -->
                </div>
            </div>
        </div>


        <!-- Top left elements -->
        <div id="map">
        </div>

        <div id="mapTitle">
            <p class="mainTitle">Abundant Apples</p>
        </div>

        <input id="resetButton" type="reset" value="Reset" onclick="resetButton()">

        <img id="openTutorial" src="img/openHowTo.png" title="open help panel" onclick="openHelp()">

        <img id="homeButton" src="img/home2.png" title="Return to home view" onclick="returnHome()">

        <div id="orchardContainer">
            <div id="filterTab">
                <div id="oregonButton" onclick="oregonFilter()" class="stateFilter intButton">
                    <img id="oregonDark" style="display: none;" src="img/oregonDark.png">
                    <img id="oregonImage" src="img/oregonOutline.png">
                </div>
                <div id="washingtonButton" onclick="washingtonFilter()" class="stateFilter intButton">
                    <img id="washDark" style="display: none;" src="img/washDark.png">
                    <img id="washImage" src="img/washOutline.png">
                </div>
                <div id="breedFilter" class="intButton" onclick="openBreedSelector()">Apple Time!</div>
                <div id="exportDataButton" class="intButton" style="display: none;" onclick="exportData()">
                    <img id="exportImage" src="img/download.png">
                </div>

                <div id='expandSeperator'></div>
                <i id="expandButton" onclick="changeOrchardContainerSize()" class='fas fa-angle-double-down' style='font-size:36px'></i>
            </div>
            <!-- putting new divs in here -->
            <div id="orchardGrouped"></div>
        </div>

        <!-- Top right elements -->
        <!-- <img id="clearPanel" src="img/clear.png" title="Clear info panel" onclick="clearPanel()" style="display: none;"> -->
        <div id="infoPanel"></div>
    </div>


</body>
    <script src="appleTime.js"></script>
</html>

